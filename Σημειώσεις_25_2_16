cgroup, sysadmin

γκρι αρχεία
	ορίζουν τα cgroup
...{threads ids, pids,flags}..
πως τα cgroups γνωρίζουν σε ποιες διεργασίες ανήκουν και ανάποδα;
/proc όλες οι ιεραρχίες
cgroup sto proc/764 δείχνει όλα τα Paths Που ανήκουν εκεί

inheritance???? το cgroup αντιγράφεται στο mygroup 

ορίζουμε το δικό μας cgroup και μετά κάνουμε Mount τα cgroup αυτά που θέλουμε 
	"μια ιεραρχεία για δυο υποσυστήματα"
	"βλέπουμε πως γινονται τα system calls"

Εστω cloud provider
	-2 πυρήνες (2000 => 100% της ισχύος για 2 πυρήνες)


	Αvailable			Demands
cpu1 2000	->cg1	->app1 800		(* μονάδες υπολογιστικής ισχύς[resources])
			->cg2	->app2 100
					->app3 300
			cpu/cg<N>/cpu.shares "το ποσοστό που χρησιμοποιείται από κάθε διεργασία" "υπολογίζουμε μόνοι μας"
				"αν αθροίσω όλα τα cgroup είναι το ποσοστό που χρησιμοποιώ"
				"άνω όριο όταν ο cpu γεμίσει" "όταν θέλω 800 θα μου δώσεις ότι και να συμβαίνει"

				όταν προσθέσουμε νέο cgroup cg3 επαναυπολογίζεται η διαθεσιμότητα του κάθε cgroup;
				=> γεμίζει το σύστημα (δηλ. δεν έχει να διαθέσει για άλλο cgroup)
				όταν πρεστεθεί καινούργιο π.χ. App5 500 δεν το δέχεται ο provider
Άσκηση
	daemon se cg mode
	το  βρισκουμε σε reppositry και το κατεβάζουμε
	φτιάχνει dir, βάζει εγγραφές μέσα


	score : >0 το cgroup αφήνει να μπει στο σύστημα
			<0 δεν μπαίνει στο σύστημα
			Μ/Σ εισόδου το αποτέλεσμα το παίρνει ο δαίμονας και το δίνει στο δεύτερο αρχείο ......
				σενάρια
				strech
				τρέχω κοιμάμαι....
				φτιάχνουμε 1ο 2ο εργαλείο
				
